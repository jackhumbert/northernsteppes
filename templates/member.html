{% import "ranks.html" as ranks %}
{% extends "index.html" %}

{% block content %}

<article class="post-single">
    <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>
        <div class="post-meta">
            {% if page.date %}<span class="post-date">Event Start: <time>{{ page.date | date(format="%B %e, %Y at %I:%M %p") }}</time></span>{% endif %}
        </div>
    </header>
    <div class="post-content">

{% set rank_names = ["Unranked", "Peasant", "Savage", "Harbinger"] %}
{% set rank = 0 %}
{% if page.extra.Waiver %}
    {% set rank = 1 %}
    {% if page.extra.Dues %}
        {% if page.extra.weapons.Single_Sword > 0 and page.extra.weapons.Sword_Board > 0 and page.extra.weapons.Rock > 0 and page.extra.weapons.Javelin > 0 %}
            {% set rank = 2 %}
            {% if page.extra.Veteran_Garb %}
                {% for prof, value in page.extra.professions %}
                    {% if value >= 2 and page.extra.Veteran_Garb %}
                        {% set rank = 3 %}
                    {% endif %}
                {% endfor %}
                {% if rank != 3%}
                    {% set rank = 3 %}
                    {% for weapon, value in page.extra.weapons %}
                        {% if value == 0 %}
                            {% set rank = 2 %}
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endif %}
        {% endif %}
    {% endif %}
{% endif %}

<dl>
    <dt><a href="{{ get_url(path="proficiencies/#ranks") }}">Rank</a></dt><dd>{{ rank_names[rank] }}</dd>
</dl>

{% set name = ["-", "Proficient", "Adept", "Master"] %}
<h2>Weapon Styles</h2>
<p>
<dl>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#single-sword")}}">Single Sword</a></dt><dd>{{ name[page.extra.weapons.Single_Sword] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#sword-board")}}">Sword & Board</a></dt><dd>{{ name[page.extra.weapons.Sword_Board] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#dual-wield")}}">Dual Wield</a></dt><dd>{{ name[page.extra.weapons.Dual_Wield] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#flail")}}">Flail</a></dt><dd>{{ name[page.extra.weapons.Flail] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#2-handed-weapon-under-6ft")}}">2-Hand Weapon</a></dt><dd>{{ name[page.extra.weapons.2_Hand_Weapon] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#spear")}}">Spear</a></dt><dd>{{ name[page.extra.weapons.Spear] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#polearm-6ft-and-over")}}">Polearm</a></dt><dd>{{ name[page.extra.weapons.Polearm] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#dagger")}}">Dagger</a></dt><dd>{{ name[page.extra.weapons.Dagger] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#archery")}}">Archery</a></dt><dd>{{ name[page.extra.weapons.Archery] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#javelin")}}">Javelin</a></dt><dd>{{ name[page.extra.weapons.Javelin] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/combat-styles#rock")}}">Rock</a></dt><dd>{{ name[page.extra.weapons.Rock] }}</dd>
</dl>
</p>

<h2>Classes</h2>
<p>
<dl>
<dt><a href="{{ get_url(path="proficiencies/classes/#scout") }}">Scout</a></dt><dd>{{ ranks::scout(extra=page.extra, rank=rank) }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#archer") }}">Archer</a></dt><dd>{{ name[page.extra.classes.Archer] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#ranger) ") }}">Ranger</a></dt><dd>{{ name[page.extra.classes.Ranger] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#vanguard") }}">Vanguard</a></dt><dd>{{ name[page.extra.classes.Vanguard] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/classes/#soldier") }}">Soldier</a></dt><dd>{{ name[page.extra.classes.Soldier] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#recruit") }}">Recruit</a></dt><dd>{{ name[page.extra.classes.Recruit] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#foot-soldier") }}">Foot Soldier</a></dt><dd>{{ name[page.extra.classes.Foot_Soldier] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#cavalier") }}">Cavalier</a></dt><dd>{{ name[page.extra.classes.Cavalier] }}</dd>
<dt><a href="{{ get_url(path="proficiencies/classes/#thief") }}">Thief</a></dt><dd>{{ name[page.extra.classes.Thief] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#footpad") }}">Footpad</a></dt><dd>{{ name[page.extra.classes.Footpad] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#highwayman") }}">Highwayman</a></dt><dd>{{ name[page.extra.classes.Highwayman] }}</dd>
<dt><span style="margin-left: 20px"></span><a href="{{ get_url(path="proficiencies/classes/#master-thief") }}">Master Thief</a></dt><dd>{{ name[page.extra.classes.Master_Thief] }}</dd>
</dl>
</p>

<h2>Non-combat Professions</h2>
<p>
    <dl>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#armorsmith") }}">Armorsmith</a></dt><dd>{{ name[page.extra.professions.Armorsmith] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#entertainer") }}">Entertainer</a></dt><dd>{{ name[page.extra.professions.Entertainer] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#blacksmith") }}">Blacksmith</a></dt><dd>{{ name[page.extra.professions.Blacksmith] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#bookbinder") }}">Bookbinder</a></dt><dd>{{ name[page.extra.professions.Bookbinder] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#brewer") }}">Brewer</a></dt><dd>{{ name[page.extra.professions.Brewer] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#candlemaker") }}">Candlemaker</a></dt><dd>{{ name[page.extra.professions.Candlemaker] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#clothier") }}">Clothier</a></dt><dd>{{ name[page.extra.professions.Clothier] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#cook") }}">Cook</a></dt><dd>{{ name[page.extra.professions.Cook] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#fletcher") }}">Fletcher</a></dt><dd>{{ name[page.extra.professions.Fletcher] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#foamsmith") }}">Foamsmith</a></dt><dd>{{ name[page.extra.professions.Foamsmith] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#herald") }}">Herald</a></dt><dd>{{ name[page.extra.professions.Herald] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#herbalist") }}">Herbalist</a></dt><dd>{{ name[page.extra.professions.Herbalist] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#hunter") }}">Hunter</a></dt><dd>{{ name[page.extra.professions.Hunter] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#leatherworker") }}">Leatherworker</a></dt><dd>{{ name[page.extra.professions.Leatherworker] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#magistrate") }}">Magistrate</a></dt><dd>{{ name[page.extra.professions.Magistrate] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#medic") }}">Medic</a></dt><dd>{{ name[page.extra.professions.Medic] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#merchant") }}">Merchant</a></dt><dd>{{ name[page.extra.professions.Merchant] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#scribe") }}">Scribe</a></dt><dd>{{ name[page.extra.professions.Scribe] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#silversmith") }}">Silversmith</a></dt><dd>{{ name[page.extra.professions.Silversmith] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#weaponsmith") }}">Weaponsmith</a></dt><dd>{{ name[page.extra.professions.Weaponsmith] }}</dd>
        <dt><a href="{{ get_url(path="proficiencies/non-combat-classes#woodworker") }}">Woodworker</a></dt><dd>{{ name[page.extra.professions.Woodworker] }}</dd>
    </dl>
    </p>
    </div>
</article>
{% endblock content %}